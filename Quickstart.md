# üöÄ P2P Admin System - Quick Start Guide

## –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∑–∞ 5 –º–∏–Ω—É—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url> p2p_admin_system
cd p2p_admin_system

# –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
chmod +x setup.sh
./setup.sh
```

### 2. –ó–∞–ø—É—Å–∫ —Å Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f
```

**–î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º:**
- üìä Admin UI: http://localhost:8501
- üîß API Bootstrap: http://localhost:8000
- üìà Prometheus: http://localhost:9090
- üìä Grafana: http://localhost:3000 (admin/admin)

### 3. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

#### –¢–µ—Ä–º–∏–Ω–∞–ª 1 - Bootstrap —É–∑–µ–ª:
```bash
source venv/bin/activate
python run.py --host 127.0.0.1 --port 8000 --dht-port 5678
```

#### –¢–µ—Ä–º–∏–Ω–∞–ª 2 - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É–∑–µ–ª:
```bash
source venv/bin/activate
python run.py --host 127.0.0.1 --port 8001 --dht-port 5679 --bootstrap 127.0.0.1:5678
```

#### –¢–µ—Ä–º–∏–Ω–∞–ª 3 - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
```bash
source venv/bin/activate
streamlit run admin/app.py
```

### 4. –ó–∞–ø—É—Å–∫ —Å –ø–æ–º–æ—â—å—é Make

```bash
# –ó–∞–ø—É—Å–∫ 3-—É–∑–ª–æ–≤–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤ tmux
make run-cluster

# –ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make run-bootstrap    # Bootstrap —É–∑–µ–ª
make run-node1       # –£–∑–µ–ª 1
make run-node2       # –£–∑–µ–ª 2
make run-admin       # Admin UI
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç:
```bash
python test_system.py
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ API:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://localhost:8000/health

# –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
curl http://localhost:8000/api/stats

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
curl -X POST http://localhost:8000/api/v1/execute \
  -H "Content-Type: application/json" \
  -d '{"command": "echo Hello P2P!"}'

# –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
curl http://localhost:8000/api/v1/processes
```

### WebSocket —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

```javascript
// –í –±—Ä–∞—É–∑–µ—Ä–µ (Console)
const ws = new WebSocket('ws://localhost:8000/ws');

ws.onopen = () => {
    console.log('Connected');
    ws.send(JSON.stringify({
        type: 'command',
        command: 'get_status'
    }));
};

ws.onmessage = (event) => {
    console.log('Received:', JSON.parse(event.data));
};
```

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

```python
# Python –∫–ª–∏–µ–Ω—Ç
from core import create_service_proxy

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
proxy = await create_service_proxy("node1", "localhost", 8000)

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞
await proxy.system.process.start_process(
    "my_service",
    "python my_script.py",
    restart_policy={"enabled": True, "restart_on": "failure"}
)

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
await proxy.system.process.stop_process("my_service")

# –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
processes = await proxy.system.process.list_processes()
```

### 2. –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```python
# –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
content = await proxy.system.file.read_file("/etc/hostname")

# –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞
await proxy.system.file.write_file(
    "/tmp/test.txt",
    "Hello from P2P system!"
)

# –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
files = await proxy.system.file.list_directory("/tmp")
```

### 3. –°–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```python
# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤
scan_result = await proxy.system.network.scan_ports(
    "192.168.1.1",
    "80-443"
)

# –ü–∏–Ω–≥
ping_result = await proxy.system.network.ping("google.com")
```

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```python
# –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
status = await proxy.system.monitor.get_status()

# –ú–µ—Ç—Ä–∏–∫–∏
metrics = await proxy.system.monitor.get_metrics_history(
    "cpu",
    duration_minutes=60
)
```

## üõ†Ô∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env):

```bash
# –£–∑–µ–ª
NODE_HOST=0.0.0.0
NODE_PORT=8000
DHT_PORT=5678

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
AUTH_SECRET=<auto-generated>
TOKEN_EXPIRE_MINUTES=60

# Bootstrap —É–∑–ª—ã
BOOTSTRAP_NODES=192.168.1.100:5678,192.168.1.101:5678

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=INFO
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤ `services/my_service.py`:
```python
class MyService:
    async def my_method(self):
        return {"result": "success"}
```

2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ `run.py`:
```python
node.register_service("system.myservice", MyService())
```

3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏:
```python
result = await proxy.system.myservice.my_method()
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
# Docker
docker-compose logs -f p2p-bootstrap

# –õ–æ–∫–∞–ª—å–Ω–æ
tail -f logs/p2p_node.log
```

### –í–∫–ª—é—á–µ–Ω–∏–µ debug —Ä–µ–∂–∏–º–∞:
```bash
# –í .env
DEBUG=true
LOG_LEVEL=DEBUG

# –ò–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
python run.py --log-level DEBUG
```

### –ú–µ—Ç—Ä–∏–∫–∏ Prometheus:
- http://localhost:8000/metrics - –º–µ—Ç—Ä–∏–∫–∏ —É–∑–ª–∞
- http://localhost:9090 - Prometheus UI
- http://localhost:3000 - Grafana dashboards

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [README.md](README.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [API Reference](docs/api.md) - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Architecture](docs/architecture.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- [Contributing](CONTRIBUTING.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

## ‚ùì –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "Connection refused" –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É–∑–µ–ª –∑–∞–ø—É—â–µ–Ω: `curl http://localhost:8000/health`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall/iptables –ø—Ä–∞–≤–∏–ª–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç

### "No peers found"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ BOOTSTRAP_NODES –≤ .env
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ bootstrap —É–∑–µ–ª –¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å –º–µ–∂–¥—É —É–∑–ª–∞–º–∏

### –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU/–ø–∞–º—è—Ç–∏
- –£–º–µ–Ω—å—à–∏—Ç–µ MAX_CONCURRENT_TASKS
- –£–≤–µ–ª–∏—á—å—Ç–µ TASK_TIMEOUT
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –∑–∞–ø—É—â–µ–Ω–∞ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è P2P —Å–∏—Å—Ç–µ–º–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8501 –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.

–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã:
```bash
# Docker
docker-compose down

# –õ–æ–∫–∞–ª—å–Ω–æ
Ctrl+C –≤ –∫–∞–∂–¥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
```