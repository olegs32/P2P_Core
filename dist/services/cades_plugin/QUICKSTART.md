# CAdES Plugin - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å CAdES Plugin.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ P2P Core

```bash
# –ó–∞–ø—É—Å–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞
python p2p.py --coordinator

# –ò–ª–∏ –≤–æ—Ä–∫–µ—Ä–∞
python p2p.py --worker
```

## üöÄ –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏

### –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:

```
https://localhost:8001/static/cades_plugin/index.html
```

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–∏—Å—É

1. –í –ø–æ–ª–µ "URL —Å–µ—Ä–≤–∏—Å–∞" —É–∫–∞–∂–∏—Ç–µ: `https://localhost:8001/rpc`
2. JWT —Ç–æ–∫–µ–Ω –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º (–∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
3. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"

### –®–∞–≥ 3: –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

1. –í —Ä–∞–∑–¥–µ–ª–µ "–ò–º–ø–æ—Ä—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞" –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `.pfx` –∏–ª–∏ `.p12`
2. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –æ—Ç —Ñ–∞–π–ª–∞
3. –ù–∞–∂–º–∏—Ç–µ "–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å"

‚úì –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ!

### –®–∞–≥ 4: –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å—å

1. –í —Ä–∞–∑–¥–µ–ª–µ "–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∏" –≤—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏–∑ —Å–ø–∏—Å–∫–∞
2. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è –ø–æ–¥–ø–∏—Å–∏
3. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –æ—Ç –∑–∞–∫—Ä—ã—Ç–æ–≥–æ –∫–ª—é—á–∞
4. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–ø–∏—Å–∞—Ç—å"
5. –°–∫–∞—á–∞–π—Ç–µ –ø–æ–¥–ø–∏—Å—å

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å

1. –í —Ä–∞–∑–¥–µ–ª–µ "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏" –≤–≤–µ–¥–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –ø–æ–¥–ø–∏—Å–∏ (`.sig`)
3. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å"
4. –£–≤–∏–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ –ø–æ–¥–ø–∏—Å—å –∏–ª–∏ –Ω–µ—Ç

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### JavaScript

```javascript
// –°–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä
const plugin = new CAdESPlugin('https://localhost:8001/rpc');

// –ò–º–ø–æ—Ä—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
const result = await plugin.importCertificate(pfxFile, 'password');

// –ü–æ–¥–ø–∏—Å—å
const signature = await plugin.signData('Hello', thumbprint, 'password');

// –ü—Ä–æ–≤–µ—Ä–∫–∞
const verified = await plugin.verifySignature('Hello', signature.signature);
```

### Python

```python
# –í –¥—Ä—É–≥–æ–º —Å–µ—Ä–≤–∏—Å–µ P2P Core
result = await self.proxy.cades_plugin.import_certificate(
    pfx_base64=pfx_data,
    password="password"
)

signature = await self.proxy.cades_plugin.sign_data(
    data_base64=data,
    thumbprint=thumbprint,
    password="password"
)

verified = await self.proxy.cades_plugin.verify_signature(
    data_base64=data,
    signature_base64=signature['signature']
)
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [README.md](README.md)
- **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:** [examples.py](examples.py)
- **API Reference:** [manifest.json](manifest.json)

## ‚ùì FAQ

**Q: –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã?**
A: –í –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ `data/p2p_*.bin`, –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `user_certs/`

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ì–û–°–¢ –∞–ª–≥–æ—Ä–∏—Ç–º—ã?**
A: –î–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `pygost` –∏ –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ –∫–æ–¥

**Q: –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –æ—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞?**
A: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é P2P Core –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**Q: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ª–∏ CAdES-T?**
A: –ü–æ–∫–∞ –Ω–µ—Ç, —Ç–æ–ª—å–∫–æ CAdES-BES. CAdES-T –≤ roadmap

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å USB-—Ç–æ–∫–µ–Ω—ã?**
A: –ü–æ–∫–∞ –Ω–µ—Ç, —Ç–æ–ª—å–∫–æ PKCS#12 —Ñ–∞–π–ª—ã. USB-—Ç–æ–∫–µ–Ω—ã –≤ roadmap

## üêõ –ü—Ä–æ–±–ª–µ–º—ã

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ P2P Core
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω: `GET /services`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å storage_manager –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
4. –°–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ–¥–ø–∏—Å—å –≤ —Å–≤–æ–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–ª–∞–≥–∏–Ω–æ–≤!
